---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
---

<Layout title="Login">
  <Navbar />
  <div class="min-h-screen flex items-center justify-center bg-blue-500">
    <form
      class="bg-white p-10 rounded-lg shadow-lg flex flex-col gap-4 items-center w-1/4"
    >
      <img src="../../public/login.png" alt="login" class="w-1/3 h-1/3 mb-4" />
      <label for="user" class="w-full mb-2 text-sm font-medium text-gray-900"
        >User</label
      >
      <input
        type="text"
        id="user"
        name="user"
        placeholder="User"
        required
        class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5"
      />
      <label
        for="password"
        class="w-full mb-2 text-sm font-medium text-gray-900">Password</label
      >
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Password"
        required
        class="w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5"
      />
      <button
        type="submit"
        class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
        >Login</button
      >
    </form>
  </div>
</Layout>

<script>
  document.querySelector("form").addEventListener("submit", async (event) => {
    event.preventDefault();
    const user = document.querySelector("#user").value;
    const password = document.querySelector("#password").value;

    console.log(JSON.stringify({ user, password }));

    //const response = await fetch('/api/branches', {
    /*
    const response = await fetch("http://localhost/api/users/", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({  user, password}),
    });
    if (response.ok) {
      alert("Producto creado correctamente");
      window.location.href = "./";
    } else {
      alert("Error al crear el producto");
    }
  });*/
  });
</script>
